        <!DOCTYPE html>
        <html>
        <head>
                <meta charset="utf-8">
        <title>BsonBinary class / bson Library / Dart Documentation</title>
        <link rel="stylesheet" type="text/css"
            href="../styles.css">
        <link href="//fonts.googleapis.com/css?family=Open+Sans:400,600,700,800" rel="stylesheet" type="text/css">
        <link rel="shortcut icon" href="../favicon.ico">
        
        </head>
        <body data-library="bson" data-type="BsonBinary">
        <div class="page">
        <div class="header">
          <a href="../index.html"><div class="logo"></div></a>
          <a href="../index.html">Dart Documentation</a>
         &rsaquo; <a href="../bson.html">bson</a> &rsaquo; <a href="../bson/BsonBinary.html">BsonBinary</a>        <div id="search-box">
          <input type="search" name="q" id="q" autocomplete="off"
              class="search-input" placeholder="Search API">
        </div>
        
      </div>
      <div class="drop-down" id="drop-down"></div>
      
        <div class="nav">
        
</div>
<div class="content">
        <h2><strong>BsonBinary</strong>
          class
        </h2>
        
<button id="show-inherited" class="show-inherited">Hide inherited</button>
<div class="doc">
<pre class="source">
class BsonBinary extends BsonObject{
 static final bool  UseFixnum = _isIntWorkaroundNeeded();
 static final BUFFER_SIZE = 256;
 static final SUBTYPE_DEFAULT = 0;
 static final SUBTYPE_FUNCTION = 1;
 static final SUBTYPE_BYTE_ARRAY = 2;
 static final SUBTYPE_UUID = 3;
 static final SUBTYPE_MD5 = 4;
 static final SUBTYPE_USER_DEFINED = 128;

 // Use a list as jump-table. It is faster than switch and if.
 static const int CHAR_0 = 48;
 static const int CHAR_1 = 49;
 static const int CHAR_2 = 50;
 static const int CHAR_3 = 51;
 static const int CHAR_4 = 52;
 static const int CHAR_5 = 53;
 static const int CHAR_6 = 54;
 static const int CHAR_7 = 55;
 static const int CHAR_8 = 56;
 static const int CHAR_9 = 57;
 static const int CHAR_a = 97;
 static const int CHAR_b = 98;
 static const int CHAR_c = 99;
 static const int CHAR_d = 100;
 static const int CHAR_e = 101;
 static const int CHAR_f = 102;

 static final tokens = createTokens();
 ByteData byteArray;
 List&lt;int&gt; byteList;
 int offset;
 int subType;
 String _hexString;

 static List&lt;int&gt; createTokens(){
   var result = new List&lt;int&gt;(255);
   result[CHAR_0] = 0;
   result[CHAR_1] = 1;
   result[CHAR_2] = 2;
   result[CHAR_3] = 3;
   result[CHAR_4] = 4;
   result[CHAR_5] = 5;
   result[CHAR_6] = 6;
   result[CHAR_7] = 7;
   result[CHAR_8] = 8;
   result[CHAR_9] = 9;
   result[CHAR_a] = 10;
   result[CHAR_b] = 11;
   result[CHAR_c] = 12;
   result[CHAR_d] = 13;
   result[CHAR_e] = 14;
   result[CHAR_f] = 15;
   return result;
 }
 set hexString(String value) =&gt; _hexString = value;
 String get hexString {
   if (_hexString == null) {
     makeHexString();
   }
   return _hexString;
 }
 BsonBinary(int length): byteList = new Uint8List(length), offset=0, subType=0{
   byteArray = _getByteData(byteList);
 }
 BsonBinary.from(List from): byteList = new Uint8List(from.length),offset=0, subType=0 {
   byteList.setRange(0, from.length, from);
   byteArray = _getByteData(byteList);
 }
 BsonBinary.fromHexString(this._hexString);
 int get typeByte =&gt; _BSON_DATA_BINARY;
 ByteData _getByteData(from) =&gt; new ByteData.view(from.buffer);
 makeHexString(){
   StringBuffer stringBuffer = new StringBuffer();
   for (final byte in byteList)
   {
      if (byte &lt; 16){
       stringBuffer.write("0");
      }
      stringBuffer.write(byte.toRadixString(16));
   }
   _hexString = stringBuffer.toString().toLowerCase();
 }
 makeByteList() {
   if (_hexString.length.remainder(2) != 0) {
     throw 'Not valid hex representation: $_hexString (odd length)';
   }
   byteList = new Uint8List((_hexString.length / 2).round().toInt());
   byteArray = _getByteData(byteList);
   int pos = 0;
   int listPos = 0;
   while (pos &lt; _hexString.length) {
     int char = _hexString.codeUnitAt(pos);
     int n1 = tokens[char];
     if (n1 == null) {
       throw 'Invalid char ${_hexString[pos]} in $_hexString';
     }
     pos++;
     char = _hexString.codeUnitAt(pos);
     int n2 = tokens[char];
     if (n2 == null) {
       throw 'Invalid char ${_hexString[pos]} in $_hexString';
     }
     byteList[listPos++] = (n1 &lt;&lt; 4)  + n2;
     pos++;
   }
 }
 setIntExtended(int value, int numOfBytes, Endianness endianness){
   List&lt;int&gt; byteListTmp = new Uint8List(4);
   var byteArrayTmp = _getByteData(byteListTmp);
   if (numOfBytes == 3){
     byteArrayTmp.setInt32(0,value,endianness);
   }
//    else if (numOfBytes &gt; 4 &amp;&amp; numOfBytes &lt; 8){
//      byteArrayTmp.setInt64(0,value,Endianness.LITTLE_ENDIAN);
//    }
   else {
       throw new Exception("Unsupported num of bytes: ${numOfBytes}");
   }
   byteList.setRange(offset,offset+numOfBytes,byteListTmp);
 }
 reverse(int numOfBytes){
   swap(int x, int y){
     int t = byteList[x+offset];
     byteList[x+offset] = byteList[y+offset];
     byteList[y+offset] = t;
   }
   for(int i=0;i&lt;=(numOfBytes-1)%2;i++){
     swap(i,numOfBytes-1-i);
   }
 }
 encodeInt(int position,int value, int numOfBytes, Endianness endianness, bool signed) {
   switch(numOfBytes) {
     case 4:
       byteArray.setInt32(position,value,endianness);
       break;
     case 2:
       byteArray.setInt16(position,value,endianness);
       break;
     case 1:
       byteArray.setInt8(position,value);
       break;
     default:
       throw new Exception("Unsupported num of bytes: $numOfBytes");
   }
 }
 writeInt(int value, {int numOfBytes:4, endianness: Endianness.LITTLE_ENDIAN, bool signed:false}){
   encodeInt(offset,value, numOfBytes,endianness,signed);
   offset += numOfBytes;
 }
 writeByte(int value){
   encodeInt(offset,value, 1,Endianness.LITTLE_ENDIAN,false);
   offset += 1;
 }
 int writeDouble(double value){
   byteArray.setFloat64(offset, value,Endianness.LITTLE_ENDIAN);
   offset+=8;
 }
 int writeInt64(int value){
   if (UseFixnum) {
     int64 d64 = new int64.fromInt(value);
     BsonBinary b2 = new BsonBinary(8);
     byteList.setRange(offset,offset+8,d64.toBytes());
   }
   else {
     byteArray.setInt64(offset, value,Endianness.LITTLE_ENDIAN);
   }
   offset+=8;
 }
 int readByte(){
   return byteList[offset++];
 }
 int readInt32(){
   offset+=4;
   return byteArray.getInt32(offset-4,Endianness.LITTLE_ENDIAN);
 }
 int readInt64(){
   offset+=8;
   if (UseFixnum) {
     offset -= 8;
     int i1 = readInt32();
     int i2 = readInt32();
     var i64 = new int64.fromInts(i2, i1);
     return i64.toInt();
   }
   return byteArray.getInt64(offset-8,Endianness.LITTLE_ENDIAN);
 }
 num readDouble(){
   offset+=8;
   return byteArray.getFloat64(offset-8,Endianness.LITTLE_ENDIAN);
 }

 String readCString(){
   List&lt;int&gt; stringBytes = [];
   while (byteList[offset++]!= 0){
      stringBytes.add(byteList[offset-1]);
   }
   return decodeUtf8(stringBytes);
 }
 writeCString(String val){
   final utfData = encodeUtf8(val);
   byteList.setRange(offset,offset+utfData.length,utfData);
   offset += utfData.length;
   writeByte(0);
}

 int byteLength() =&gt; byteList.length+4+1;
 bool atEnd() =&gt; offset == byteList.length;
 rewind(){
   offset = 0;
 }
 packValue(BsonBinary buffer){
   if (byteList == null) {
     makeByteList();
   }
   buffer.writeInt(byteList.length);
   buffer.writeByte(subType);
   buffer.byteList.setRange(buffer.offset,buffer.offset+byteList.length,byteList);
   buffer.offset += byteList.length;
 }
 unpackValue(BsonBinary buffer){
   int size = buffer.readInt32();
   subType = buffer.readByte();
   byteList = new Uint8List(size);
   byteArray = _getByteData(byteList);
   byteList.setRange(0,size,buffer.byteList,buffer.offset);
   buffer.offset += size;
 }
 get value =&gt; this;
 String toString()=&gt;"BsonBinary($hexString)";
}
</pre>
</div>
<h3>Extends</h3>
<p>
<span class="type-box"><span class="icon-class"></span><a href="../bson/BsonObject.html">BsonObject</a></span>&nbsp;&gt;&nbsp;<span class="type-box"><span class="icon-class"></span><strong>BsonBinary</strong></span></p>
<div>
<h3>Static Properties</h3>
<div class="field"><h4 id="BUFFER_SIZE">
<button class="show-code">Code</button>
final         <strong>BUFFER_SIZE</strong> <a class="anchor-link"
            href="#BUFFER_SIZE"
            title="Permalink to BsonBinary.BUFFER_SIZE">#</a>
        </h4>
        <div class="doc">
<pre class="source">
static final BUFFER_SIZE = 256
</pre>
</div>
</div>
<div class="field"><h4 id="CHAR_0">
<button class="show-code">Code</button>
const int         <strong>CHAR_0</strong> <a class="anchor-link"
            href="#CHAR_0"
            title="Permalink to BsonBinary.CHAR_0">#</a>
        </h4>
        <div class="doc">
<pre class="source">
static const int CHAR_0 = 48
</pre>
</div>
</div>
<div class="field"><h4 id="CHAR_1">
<button class="show-code">Code</button>
const int         <strong>CHAR_1</strong> <a class="anchor-link"
            href="#CHAR_1"
            title="Permalink to BsonBinary.CHAR_1">#</a>
        </h4>
        <div class="doc">
<pre class="source">
static const int CHAR_1 = 49
</pre>
</div>
</div>
<div class="field"><h4 id="CHAR_2">
<button class="show-code">Code</button>
const int         <strong>CHAR_2</strong> <a class="anchor-link"
            href="#CHAR_2"
            title="Permalink to BsonBinary.CHAR_2">#</a>
        </h4>
        <div class="doc">
<pre class="source">
static const int CHAR_2 = 50
</pre>
</div>
</div>
<div class="field"><h4 id="CHAR_3">
<button class="show-code">Code</button>
const int         <strong>CHAR_3</strong> <a class="anchor-link"
            href="#CHAR_3"
            title="Permalink to BsonBinary.CHAR_3">#</a>
        </h4>
        <div class="doc">
<pre class="source">
static const int CHAR_3 = 51
</pre>
</div>
</div>
<div class="field"><h4 id="CHAR_4">
<button class="show-code">Code</button>
const int         <strong>CHAR_4</strong> <a class="anchor-link"
            href="#CHAR_4"
            title="Permalink to BsonBinary.CHAR_4">#</a>
        </h4>
        <div class="doc">
<pre class="source">
static const int CHAR_4 = 52
</pre>
</div>
</div>
<div class="field"><h4 id="CHAR_5">
<button class="show-code">Code</button>
const int         <strong>CHAR_5</strong> <a class="anchor-link"
            href="#CHAR_5"
            title="Permalink to BsonBinary.CHAR_5">#</a>
        </h4>
        <div class="doc">
<pre class="source">
static const int CHAR_5 = 53
</pre>
</div>
</div>
<div class="field"><h4 id="CHAR_6">
<button class="show-code">Code</button>
const int         <strong>CHAR_6</strong> <a class="anchor-link"
            href="#CHAR_6"
            title="Permalink to BsonBinary.CHAR_6">#</a>
        </h4>
        <div class="doc">
<pre class="source">
static const int CHAR_6 = 54
</pre>
</div>
</div>
<div class="field"><h4 id="CHAR_7">
<button class="show-code">Code</button>
const int         <strong>CHAR_7</strong> <a class="anchor-link"
            href="#CHAR_7"
            title="Permalink to BsonBinary.CHAR_7">#</a>
        </h4>
        <div class="doc">
<pre class="source">
static const int CHAR_7 = 55
</pre>
</div>
</div>
<div class="field"><h4 id="CHAR_8">
<button class="show-code">Code</button>
const int         <strong>CHAR_8</strong> <a class="anchor-link"
            href="#CHAR_8"
            title="Permalink to BsonBinary.CHAR_8">#</a>
        </h4>
        <div class="doc">
<pre class="source">
static const int CHAR_8 = 56
</pre>
</div>
</div>
<div class="field"><h4 id="CHAR_9">
<button class="show-code">Code</button>
const int         <strong>CHAR_9</strong> <a class="anchor-link"
            href="#CHAR_9"
            title="Permalink to BsonBinary.CHAR_9">#</a>
        </h4>
        <div class="doc">
<pre class="source">
static const int CHAR_9 = 57
</pre>
</div>
</div>
<div class="field"><h4 id="CHAR_a">
<button class="show-code">Code</button>
const int         <strong>CHAR_a</strong> <a class="anchor-link"
            href="#CHAR_a"
            title="Permalink to BsonBinary.CHAR_a">#</a>
        </h4>
        <div class="doc">
<pre class="source">
static const int CHAR_a = 97
</pre>
</div>
</div>
<div class="field"><h4 id="CHAR_b">
<button class="show-code">Code</button>
const int         <strong>CHAR_b</strong> <a class="anchor-link"
            href="#CHAR_b"
            title="Permalink to BsonBinary.CHAR_b">#</a>
        </h4>
        <div class="doc">
<pre class="source">
static const int CHAR_b = 98
</pre>
</div>
</div>
<div class="field"><h4 id="CHAR_c">
<button class="show-code">Code</button>
const int         <strong>CHAR_c</strong> <a class="anchor-link"
            href="#CHAR_c"
            title="Permalink to BsonBinary.CHAR_c">#</a>
        </h4>
        <div class="doc">
<pre class="source">
static const int CHAR_c = 99
</pre>
</div>
</div>
<div class="field"><h4 id="CHAR_d">
<button class="show-code">Code</button>
const int         <strong>CHAR_d</strong> <a class="anchor-link"
            href="#CHAR_d"
            title="Permalink to BsonBinary.CHAR_d">#</a>
        </h4>
        <div class="doc">
<pre class="source">
static const int CHAR_d = 100
</pre>
</div>
</div>
<div class="field"><h4 id="CHAR_e">
<button class="show-code">Code</button>
const int         <strong>CHAR_e</strong> <a class="anchor-link"
            href="#CHAR_e"
            title="Permalink to BsonBinary.CHAR_e">#</a>
        </h4>
        <div class="doc">
<pre class="source">
static const int CHAR_e = 101
</pre>
</div>
</div>
<div class="field"><h4 id="CHAR_f">
<button class="show-code">Code</button>
const int         <strong>CHAR_f</strong> <a class="anchor-link"
            href="#CHAR_f"
            title="Permalink to BsonBinary.CHAR_f">#</a>
        </h4>
        <div class="doc">
<pre class="source">
static const int CHAR_f = 102
</pre>
</div>
</div>
<div class="field"><h4 id="SUBTYPE_BYTE_ARRAY">
<button class="show-code">Code</button>
final         <strong>SUBTYPE_BYTE_ARRAY</strong> <a class="anchor-link"
            href="#SUBTYPE_BYTE_ARRAY"
            title="Permalink to BsonBinary.SUBTYPE_BYTE_ARRAY">#</a>
        </h4>
        <div class="doc">
<pre class="source">
static final SUBTYPE_BYTE_ARRAY = 2
</pre>
</div>
</div>
<div class="field"><h4 id="SUBTYPE_DEFAULT">
<button class="show-code">Code</button>
final         <strong>SUBTYPE_DEFAULT</strong> <a class="anchor-link"
            href="#SUBTYPE_DEFAULT"
            title="Permalink to BsonBinary.SUBTYPE_DEFAULT">#</a>
        </h4>
        <div class="doc">
<pre class="source">
static final SUBTYPE_DEFAULT = 0
</pre>
</div>
</div>
<div class="field"><h4 id="SUBTYPE_FUNCTION">
<button class="show-code">Code</button>
final         <strong>SUBTYPE_FUNCTION</strong> <a class="anchor-link"
            href="#SUBTYPE_FUNCTION"
            title="Permalink to BsonBinary.SUBTYPE_FUNCTION">#</a>
        </h4>
        <div class="doc">
<pre class="source">
static final SUBTYPE_FUNCTION = 1
</pre>
</div>
</div>
<div class="field"><h4 id="SUBTYPE_MD5">
<button class="show-code">Code</button>
final         <strong>SUBTYPE_MD5</strong> <a class="anchor-link"
            href="#SUBTYPE_MD5"
            title="Permalink to BsonBinary.SUBTYPE_MD5">#</a>
        </h4>
        <div class="doc">
<pre class="source">
static final SUBTYPE_MD5 = 4
</pre>
</div>
</div>
<div class="field"><h4 id="SUBTYPE_USER_DEFINED">
<button class="show-code">Code</button>
final         <strong>SUBTYPE_USER_DEFINED</strong> <a class="anchor-link"
            href="#SUBTYPE_USER_DEFINED"
            title="Permalink to BsonBinary.SUBTYPE_USER_DEFINED">#</a>
        </h4>
        <div class="doc">
<pre class="source">
static final SUBTYPE_USER_DEFINED = 128
</pre>
</div>
</div>
<div class="field"><h4 id="SUBTYPE_UUID">
<button class="show-code">Code</button>
final         <strong>SUBTYPE_UUID</strong> <a class="anchor-link"
            href="#SUBTYPE_UUID"
            title="Permalink to BsonBinary.SUBTYPE_UUID">#</a>
        </h4>
        <div class="doc">
<pre class="source">
static final SUBTYPE_UUID = 3
</pre>
</div>
</div>
<div class="field"><h4 id="tokens">
<button class="show-code">Code</button>
final         <strong>tokens</strong> <a class="anchor-link"
            href="#tokens"
            title="Permalink to BsonBinary.tokens">#</a>
        </h4>
        <div class="doc">
<pre class="source">
static final tokens = createTokens()
</pre>
</div>
</div>
<div class="field"><h4 id="UseFixnum">
<button class="show-code">Code</button>
final bool         <strong>UseFixnum</strong> <a class="anchor-link"
            href="#UseFixnum"
            title="Permalink to BsonBinary.UseFixnum">#</a>
        </h4>
        <div class="doc">
<pre class="source">
static final bool  UseFixnum = _isIntWorkaroundNeeded()
</pre>
</div>
</div>
</div>
<div>
<h3>Static Methods</h3>
<div class="method"><h4 id="createTokens">
<button class="show-code">Code</button>
List&lt;int&gt; <strong>createTokens</strong>() <a class="anchor-link" href="#createTokens"
              title="Permalink to BsonBinary.createTokens">#</a></h4>
<div class="doc">
<pre class="source">
static List&lt;int&gt; createTokens(){
 var result = new List&lt;int&gt;(255);
 result[CHAR_0] = 0;
 result[CHAR_1] = 1;
 result[CHAR_2] = 2;
 result[CHAR_3] = 3;
 result[CHAR_4] = 4;
 result[CHAR_5] = 5;
 result[CHAR_6] = 6;
 result[CHAR_7] = 7;
 result[CHAR_8] = 8;
 result[CHAR_9] = 9;
 result[CHAR_a] = 10;
 result[CHAR_b] = 11;
 result[CHAR_c] = 12;
 result[CHAR_d] = 13;
 result[CHAR_e] = 14;
 result[CHAR_f] = 15;
 return result;
}
</pre>
</div>
</div>
</div>
<div>
<h3>Constructors</h3>
<div class="method"><h4 id="">
<button class="show-code">Code</button>
new <strong>BsonBinary</strong>(int length) <a class="anchor-link" href="#"
              title="Permalink to BsonBinary.BsonBinary">#</a></h4>
<div class="doc">
<div class="inherited">
<p>Creates a new <a class="crossref" href="../dart_core/Object.html">Object</a> instance.</p>
<p><a class="crossref" href="../dart_core/Object.html">Object</a> instances have no meaningful state, and are only useful
through their identity. An <a class="crossref" href="../dart_core/Object.html">Object</a> instance is equal to itself
only.</p>
<div class="docs-inherited-from">docs inherited from Object </div></div>
<pre class="source">
BsonBinary(int length): byteList = new Uint8List(length), offset=0, subType=0{
 byteArray = _getByteData(byteList);
}
</pre>
</div>
</div>
<div class="method"><h4 id="from">
<button class="show-code">Code</button>
new <strong>BsonBinary.from</strong>(List from) <a class="anchor-link" href="#from"
              title="Permalink to BsonBinary.BsonBinary.from">#</a></h4>
<div class="doc">
<pre class="source">
BsonBinary.from(List from): byteList = new Uint8List(from.length),offset=0, subType=0 {
 byteList.setRange(0, from.length, from);
 byteArray = _getByteData(byteList);
}
</pre>
</div>
</div>
<div class="method"><h4 id="fromHexString">
<button class="show-code">Code</button>
new <strong>BsonBinary.fromHexString</strong>(String _hexString) <a class="anchor-link" href="#fromHexString"
              title="Permalink to BsonBinary.BsonBinary.fromHexString">#</a></h4>
<div class="doc">
<pre class="source">
BsonBinary.fromHexString(this._hexString);
</pre>
</div>
</div>
</div>
<div>
<h3>Properties</h3>
<div class="field"><h4 id="byteArray">
<button class="show-code">Code</button>
ByteData         <strong>byteArray</strong> <a class="anchor-link"
            href="#byteArray"
            title="Permalink to BsonBinary.byteArray">#</a>
        </h4>
        <div class="doc">
<pre class="source">
ByteData byteArray
</pre>
</div>
</div>
<div class="field"><h4 id="byteList">
<button class="show-code">Code</button>
List&lt;int&gt;         <strong>byteList</strong> <a class="anchor-link"
            href="#byteList"
            title="Permalink to BsonBinary.byteList">#</a>
        </h4>
        <div class="doc">
<pre class="source">
List&lt;int&gt; byteList
</pre>
</div>
</div>
<div class="field"><h4 id="hexString">
<button class="show-code">Code</button>
String         <strong>hexString</strong> <a class="anchor-link"
            href="#hexString"
            title="Permalink to BsonBinary.hexString">#</a>
        </h4>
        <div class="doc">
<pre class="source">
String get hexString {
 if (_hexString == null) {
   makeHexString();
 }
 return _hexString;
}
</pre>
<pre class="source">
set hexString(String value) =&gt; _hexString = value;
</pre>
</div>
</div>
<div class="field"><h4 id="offset">
<button class="show-code">Code</button>
int         <strong>offset</strong> <a class="anchor-link"
            href="#offset"
            title="Permalink to BsonBinary.offset">#</a>
        </h4>
        <div class="doc">
<pre class="source">
int offset
</pre>
</div>
</div>
<div class="field"><h4 id="subType">
<button class="show-code">Code</button>
int         <strong>subType</strong> <a class="anchor-link"
            href="#subType"
            title="Permalink to BsonBinary.subType">#</a>
        </h4>
        <div class="doc">
<pre class="source">
int subType
</pre>
</div>
</div>
<div class="field"><h4 id="typeByte">
<button class="show-code">Code</button>
final int         <strong>typeByte</strong> <a class="anchor-link"
            href="#typeByte"
            title="Permalink to BsonBinary.typeByte">#</a>
        </h4>
        <div class="doc">
<pre class="source">
int get typeByte =&gt; _BSON_DATA_BINARY;
</pre>
</div>
</div>
<div class="field"><h4 id="value">
<button class="show-code">Code</button>
final         <strong>value</strong> <a class="anchor-link"
            href="#value"
            title="Permalink to BsonBinary.value">#</a>
        </h4>
        <div class="doc">
<pre class="source">
get value =&gt; this;
</pre>
</div>
</div>
</div>
<div>
<h3>Methods</h3>
<div class="method"><h4 id="atEnd">
<button class="show-code">Code</button>
bool <strong>atEnd</strong>() <a class="anchor-link" href="#atEnd"
              title="Permalink to BsonBinary.atEnd">#</a></h4>
<div class="doc">
<pre class="source">
bool atEnd() =&gt; offset == byteList.length;
</pre>
</div>
</div>
<div class="method"><h4 id="byteLength">
<button class="show-code">Code</button>
int <strong>byteLength</strong>() <a class="anchor-link" href="#byteLength"
              title="Permalink to BsonBinary.byteLength">#</a></h4>
<div class="doc">
<pre class="source">
int byteLength() =&gt; byteList.length+4+1;
</pre>
</div>
</div>
<div class="method"><h4 id="encodeInt">
<button class="show-code">Code</button>
dynamic <strong>encodeInt</strong>(int position, int value, int numOfBytes, Endianness endianness, bool signed) <a class="anchor-link" href="#encodeInt"
              title="Permalink to BsonBinary.encodeInt">#</a></h4>
<div class="doc">
<pre class="source">
encodeInt(int position,int value, int numOfBytes, Endianness endianness, bool signed) {
 switch(numOfBytes) {
   case 4:
     byteArray.setInt32(position,value,endianness);
     break;
   case 2:
     byteArray.setInt16(position,value,endianness);
     break;
   case 1:
     byteArray.setInt8(position,value);
     break;
   default:
     throw new Exception("Unsupported num of bytes: $numOfBytes");
 }
}
</pre>
</div>
</div>
<div class="method"><h4 id="makeByteList">
<button class="show-code">Code</button>
dynamic <strong>makeByteList</strong>() <a class="anchor-link" href="#makeByteList"
              title="Permalink to BsonBinary.makeByteList">#</a></h4>
<div class="doc">
<pre class="source">
makeByteList() {
 if (_hexString.length.remainder(2) != 0) {
   throw 'Not valid hex representation: $_hexString (odd length)';
 }
 byteList = new Uint8List((_hexString.length / 2).round().toInt());
 byteArray = _getByteData(byteList);
 int pos = 0;
 int listPos = 0;
 while (pos &lt; _hexString.length) {
   int char = _hexString.codeUnitAt(pos);
   int n1 = tokens[char];
   if (n1 == null) {
     throw 'Invalid char ${_hexString[pos]} in $_hexString';
   }
   pos++;
   char = _hexString.codeUnitAt(pos);
   int n2 = tokens[char];
   if (n2 == null) {
     throw 'Invalid char ${_hexString[pos]} in $_hexString';
   }
   byteList[listPos++] = (n1 &lt;&lt; 4)  + n2;
   pos++;
 }
}
</pre>
</div>
</div>
<div class="method"><h4 id="makeHexString">
<button class="show-code">Code</button>
dynamic <strong>makeHexString</strong>() <a class="anchor-link" href="#makeHexString"
              title="Permalink to BsonBinary.makeHexString">#</a></h4>
<div class="doc">
<pre class="source">
makeHexString(){
 StringBuffer stringBuffer = new StringBuffer();
 for (final byte in byteList)
 {
    if (byte &lt; 16){
     stringBuffer.write("0");
    }
    stringBuffer.write(byte.toRadixString(16));
 }
 _hexString = stringBuffer.toString().toLowerCase();
}
</pre>
</div>
</div>
<div class="method inherited"><h4 id="packElement">
<button class="show-code">Code</button>
dynamic <strong>packElement</strong>(String name, buffer) <a class="anchor-link" href="#packElement"
              title="Permalink to BsonBinary.packElement">#</a></h4>
<div class="inherited-from">inherited from <a href="../bson/BsonObject.html">BsonObject</a> </div><div class="doc">
<pre class="source">
packElement(String name, var buffer){
 buffer.writeByte(typeByte);
 if (name != null){
   new BsonCString(name).packValue(buffer);
 }
 packValue(buffer);
}
</pre>
</div>
</div>
<div class="method"><h4 id="packValue">
<button class="show-code">Code</button>
dynamic <strong>packValue</strong>(<a href="../bson/BsonBinary.html">BsonBinary</a> buffer) <a class="anchor-link" href="#packValue"
              title="Permalink to BsonBinary.packValue">#</a></h4>
<div class="doc">
<pre class="source">
packValue(BsonBinary buffer){
 if (byteList == null) {
   makeByteList();
 }
 buffer.writeInt(byteList.length);
 buffer.writeByte(subType);
 buffer.byteList.setRange(buffer.offset,buffer.offset+byteList.length,byteList);
 buffer.offset += byteList.length;
}
</pre>
</div>
</div>
<div class="method"><h4 id="readByte">
<button class="show-code">Code</button>
int <strong>readByte</strong>() <a class="anchor-link" href="#readByte"
              title="Permalink to BsonBinary.readByte">#</a></h4>
<div class="doc">
<pre class="source">
int readByte(){
 return byteList[offset++];
}
</pre>
</div>
</div>
<div class="method"><h4 id="readCString">
<button class="show-code">Code</button>
String <strong>readCString</strong>() <a class="anchor-link" href="#readCString"
              title="Permalink to BsonBinary.readCString">#</a></h4>
<div class="doc">
<pre class="source">
String readCString(){
 List&lt;int&gt; stringBytes = [];
 while (byteList[offset++]!= 0){
    stringBytes.add(byteList[offset-1]);
 }
 return decodeUtf8(stringBytes);
}
</pre>
</div>
</div>
<div class="method"><h4 id="readDouble">
<button class="show-code">Code</button>
num <strong>readDouble</strong>() <a class="anchor-link" href="#readDouble"
              title="Permalink to BsonBinary.readDouble">#</a></h4>
<div class="doc">
<pre class="source">
num readDouble(){
 offset+=8;
 return byteArray.getFloat64(offset-8,Endianness.LITTLE_ENDIAN);
}
</pre>
</div>
</div>
<div class="method"><h4 id="readInt32">
<button class="show-code">Code</button>
int <strong>readInt32</strong>() <a class="anchor-link" href="#readInt32"
              title="Permalink to BsonBinary.readInt32">#</a></h4>
<div class="doc">
<pre class="source">
int readInt32(){
 offset+=4;
 return byteArray.getInt32(offset-4,Endianness.LITTLE_ENDIAN);
}
</pre>
</div>
</div>
<div class="method"><h4 id="readInt64">
<button class="show-code">Code</button>
int <strong>readInt64</strong>() <a class="anchor-link" href="#readInt64"
              title="Permalink to BsonBinary.readInt64">#</a></h4>
<div class="doc">
<pre class="source">
int readInt64(){
 offset+=8;
 if (UseFixnum) {
   offset -= 8;
   int i1 = readInt32();
   int i2 = readInt32();
   var i64 = new int64.fromInts(i2, i1);
   return i64.toInt();
 }
 return byteArray.getInt64(offset-8,Endianness.LITTLE_ENDIAN);
}
</pre>
</div>
</div>
<div class="method"><h4 id="reverse">
<button class="show-code">Code</button>
dynamic <strong>reverse</strong>(int numOfBytes) <a class="anchor-link" href="#reverse"
              title="Permalink to BsonBinary.reverse">#</a></h4>
<div class="doc">
<pre class="source">
reverse(int numOfBytes){
 swap(int x, int y){
   int t = byteList[x+offset];
   byteList[x+offset] = byteList[y+offset];
   byteList[y+offset] = t;
 }
 for(int i=0;i&lt;=(numOfBytes-1)%2;i++){
   swap(i,numOfBytes-1-i);
 }
}
</pre>
</div>
</div>
<div class="method"><h4 id="rewind">
<button class="show-code">Code</button>
dynamic <strong>rewind</strong>() <a class="anchor-link" href="#rewind"
              title="Permalink to BsonBinary.rewind">#</a></h4>
<div class="doc">
<pre class="source">
rewind(){
 offset = 0;
}
</pre>
</div>
</div>
<div class="method"><h4 id="setIntExtended">
<button class="show-code">Code</button>
dynamic <strong>setIntExtended</strong>(int value, int numOfBytes, Endianness endianness) <a class="anchor-link" href="#setIntExtended"
              title="Permalink to BsonBinary.setIntExtended">#</a></h4>
<div class="doc">
<pre class="source">
setIntExtended(int value, int numOfBytes, Endianness endianness){
 List&lt;int&gt; byteListTmp = new Uint8List(4);
 var byteArrayTmp = _getByteData(byteListTmp);
 if (numOfBytes == 3){
   byteArrayTmp.setInt32(0,value,endianness);
 }
//    else if (numOfBytes &gt; 4 &amp;&amp; numOfBytes &lt; 8){
//      byteArrayTmp.setInt64(0,value,Endianness.LITTLE_ENDIAN);
//    }
 else {
     throw new Exception("Unsupported num of bytes: ${numOfBytes}");
 }
 byteList.setRange(offset,offset+numOfBytes,byteListTmp);
}
</pre>
</div>
</div>
<div class="method"><h4 id="toString">
<button class="show-code">Code</button>
String <strong>toString</strong>() <a class="anchor-link" href="#toString"
              title="Permalink to BsonBinary.toString">#</a></h4>
<div class="doc">
<div class="inherited">
<p>Returns a string representation of this object.</p>
<div class="docs-inherited-from">docs inherited from Object </div></div>
<pre class="source">
String toString()=&gt;"BsonBinary($hexString)";
</pre>
</div>
</div>
<div class="method inherited"><h4 id="unpackElement">
<button class="show-code">Code</button>
<a href="../bson/_ElementPair.html">_ElementPair</a> <strong>unpackElement</strong>(buffer) <a class="anchor-link" href="#unpackElement"
              title="Permalink to BsonBinary.unpackElement">#</a></h4>
<div class="inherited-from">inherited from <a href="../bson/BsonObject.html">BsonObject</a> </div><div class="doc">
<pre class="source">
_ElementPair unpackElement(buffer){
 _ElementPair result = new _ElementPair();
 result.name = buffer.readCString();
 unpackValue(buffer);
 result.value = value;
 return result;
}
</pre>
</div>
</div>
<div class="method"><h4 id="unpackValue">
<button class="show-code">Code</button>
dynamic <strong>unpackValue</strong>(<a href="../bson/BsonBinary.html">BsonBinary</a> buffer) <a class="anchor-link" href="#unpackValue"
              title="Permalink to BsonBinary.unpackValue">#</a></h4>
<div class="doc">
<pre class="source">
unpackValue(BsonBinary buffer){
 int size = buffer.readInt32();
 subType = buffer.readByte();
 byteList = new Uint8List(size);
 byteArray = _getByteData(byteList);
 byteList.setRange(0,size,buffer.byteList,buffer.offset);
 buffer.offset += size;
}
</pre>
</div>
</div>
<div class="method"><h4 id="writeByte">
<button class="show-code">Code</button>
dynamic <strong>writeByte</strong>(int value) <a class="anchor-link" href="#writeByte"
              title="Permalink to BsonBinary.writeByte">#</a></h4>
<div class="doc">
<pre class="source">
writeByte(int value){
 encodeInt(offset,value, 1,Endianness.LITTLE_ENDIAN,false);
 offset += 1;
}
</pre>
</div>
</div>
<div class="method"><h4 id="writeCString">
<button class="show-code">Code</button>
dynamic <strong>writeCString</strong>(String val) <a class="anchor-link" href="#writeCString"
              title="Permalink to BsonBinary.writeCString">#</a></h4>
<div class="doc">
<pre class="source">
writeCString(String val){
 final utfData = encodeUtf8(val);
 byteList.setRange(offset,offset+utfData.length,utfData);
 offset += utfData.length;
 writeByte(0);
}
</pre>
</div>
</div>
<div class="method"><h4 id="writeDouble">
<button class="show-code">Code</button>
int <strong>writeDouble</strong>(double value) <a class="anchor-link" href="#writeDouble"
              title="Permalink to BsonBinary.writeDouble">#</a></h4>
<div class="doc">
<pre class="source">
int writeDouble(double value){
 byteArray.setFloat64(offset, value,Endianness.LITTLE_ENDIAN);
 offset+=8;
}
</pre>
</div>
</div>
<div class="method"><h4 id="writeInt">
<button class="show-code">Code</button>
dynamic <strong>writeInt</strong>(int value, {int numOfBytes: 4, endianness: Endianness.LITTLE_ENDIAN, bool signed: false}) <a class="anchor-link" href="#writeInt"
              title="Permalink to BsonBinary.writeInt">#</a></h4>
<div class="doc">
<pre class="source">
writeInt(int value, {int numOfBytes:4, endianness: Endianness.LITTLE_ENDIAN, bool signed:false}){
 encodeInt(offset,value, numOfBytes,endianness,signed);
 offset += numOfBytes;
}
</pre>
</div>
</div>
<div class="method"><h4 id="writeInt64">
<button class="show-code">Code</button>
int <strong>writeInt64</strong>(int value) <a class="anchor-link" href="#writeInt64"
              title="Permalink to BsonBinary.writeInt64">#</a></h4>
<div class="doc">
<pre class="source">
int writeInt64(int value){
 if (UseFixnum) {
   int64 d64 = new int64.fromInt(value);
   BsonBinary b2 = new BsonBinary(8);
   byteList.setRange(offset,offset+8,d64.toBytes());
 }
 else {
   byteArray.setInt64(offset, value,Endianness.LITTLE_ENDIAN);
 }
 offset+=8;
}
</pre>
</div>
</div>
</div>
        </div>
        <div class="clear"></div>
        </div>
        <div class="footer">
          <div>This page was generated at 2013-08-06 10:39:53.614</div>
        </div>
        <script async src="../client-live-nav.js"></script>
        </body></html>
        
